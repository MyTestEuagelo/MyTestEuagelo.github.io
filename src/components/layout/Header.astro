---
import Search from "@/components/Search.astro";
import ThemeToggle from "@/components/ThemeToggle.astro";
import { menuLinks } from "@/site.config";
import { siteConfig } from "../../site.config";
---

<header class="group relative mb-8 flex items-center sm:ps-18" id="main-header">
	<div class="flex sm:flex-col">
		<a
			aria-current={Astro.url.pathname === "/" ? "page" : false}
			class="inline-flex items-center sm:relative sm:inline-block sm:grayscale sm:hover:filter-none"
			href="/"
		>




<svg
   width="13.841234mm"
   height="7.7265315mm"
   viewBox="0 0 13.841234 7.7265316"
   version="1.1"
   id="svg1"
   xml:space="preserve"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"><defs
     id="defs1"><clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath17-2-1"><rect
         style="fill:#2abc66;fill-opacity:1;stroke:none;stroke-width:0.93738;stroke-linecap:square;stroke-linejoin:miter;stroke-dasharray:none;paint-order:fill markers stroke"
         id="rect17-7-3"
         width="93.142891"
         height="64.090034"
         x="288.56006"
         y="796.34711"
         ry="0"
         transform="matrix(0.7523157,-0.65880277,0,1,0,0)" /></clipPath><clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath17-2-1-9"><rect
         style="fill:#2abc66;fill-opacity:1;stroke:none;stroke-width:0.93738;stroke-linecap:square;stroke-linejoin:miter;stroke-dasharray:none;paint-order:fill markers stroke"
         id="rect17-7-3-8"
         width="93.142891"
         height="64.090034"
         x="288.56006"
         y="796.34711"
         ry="0"
         transform="matrix(0.7523157,-0.65880277,0,1,0,0)" /></clipPath><clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath17-2-1-8"><rect
         style="fill:#2abc66;fill-opacity:1;stroke:none;stroke-width:0.93738;stroke-linecap:square;stroke-linejoin:miter;stroke-dasharray:none;paint-order:fill markers stroke"
         id="rect17-7-3-6"
         width="93.142891"
         height="64.090034"
         x="288.56006"
         y="796.34711"
         ry="0"
         transform="matrix(0.7523157,-0.65880277,0,1,0,0)" /></clipPath><clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath17-2-1-3"><rect
         style="fill:#2abc66;fill-opacity:1;stroke:none;stroke-width:0.93738;stroke-linecap:square;stroke-linejoin:miter;stroke-dasharray:none;paint-order:fill markers stroke"
         id="rect17-7-3-4"
         width="93.142891"
         height="64.090034"
         x="288.56006"
         y="796.34711"
         ry="0"
         transform="matrix(0.7523157,-0.65880277,0,1,0,0)" /></clipPath><clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath17-2-1-37"><rect
         style="fill:#2abc66;fill-opacity:1;stroke:none;stroke-width:0.93738;stroke-linecap:square;stroke-linejoin:miter;stroke-dasharray:none;paint-order:fill markers stroke"
         id="rect17-7-3-88"
         width="93.142891"
         height="64.090034"
         x="288.56006"
         y="796.34711"
         ry="0"
         transform="matrix(0.7523157,-0.65880277,0,1,0,0)" /></clipPath><clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath17-2-1-7"><rect
         style="fill:#2abc66;fill-opacity:1;stroke:none;stroke-width:0.93738;stroke-linecap:square;stroke-linejoin:miter;stroke-dasharray:none;paint-order:fill markers stroke"
         id="rect17-7-3-63"
         width="93.142891"
         height="64.090034"
         x="288.56006"
         y="796.34711"
         ry="0"
         transform="matrix(0.7523157,-0.65880277,0,1,0,0)" /></clipPath></defs><g
     id="layer1"
     transform="translate(-97.434338,-128.11791)"><g
       style="fill:none"
       id="g1"
       transform="matrix(0.26458333,0,0,0.26458333,69.05625,84.931251)"><path
         id="rect17"
         clip-path="none"
         style="fill:#caffbd;stroke-width:0.101086;stroke-linecap:square;paint-order:fill markers stroke"
         d="M 162.33232 260.84509 L 157.09248 260.84393 L 157.09446 268.04646 L 162.33186 268.04424 L 162.33232 260.84509 z M 189.60377 276.92243 L 184.36393 276.92127 L 184.36347 284.12042 L 189.60331 284.12158 L 189.60377 276.92243 z "
         transform="matrix(0.81072226,-0.58543097,-0.00754413,0.99997154,0,0)" /><path
         id="rect11"
         clip-path="none"
         style="fill:#2abc89;stroke-width:0.0913793;stroke-linecap:square;paint-order:fill markers stroke"
         d="M 120.42033 147.71361 L 120.42025 154.88962 L 128.357 154.8691 L 128.32556 147.71391 L 120.42033 147.71361 z M 142.68374 144.1513 L 142.68366 151.32732 L 150.62239 151.30647 L 150.59095 144.15128 L 142.68374 144.1513 z "
         transform="matrix(0.98629313,0.16500262,-0.00788257,0.99996893,0,0)" /><path
         id="rect11-2"
         clip-path="none"
         style="fill:#d882aa;stroke-width:0.0787805;stroke-linecap:square;paint-order:fill markers stroke"
         d="M 288.85064 200.54903 L 288.85273 205.86929 L 296.77821 205.86743 L 296.73658 200.57848 L 288.85064 200.54903 z M 307.05311 195.58434 L 307.05296 200.90189 L 314.98068 200.90274 L 314.93745 195.61425 L 307.05311 195.58434 z "
         transform="matrix(0.98629313,0.16500262,-0.8128024,0.58253949,0,0)" /><path
         style="fill:none;fill-opacity:1;stroke:#2abc89;stroke-width:2.89144;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"
         d="m 108.70149,177.65033 c 0,0 0.68097,0.737 0.88128,0.92228 0.2003,0.18529 0.38155,0.71323 0.76695,1.04524 0.3854,0.33201 1.00379,0.84315 1.55907,1.28334 0.55527,0.44019 1.10513,0.92484 1.81507,1.43465 0.70994,0.50982 1.32031,1.16022 2.1697,1.70112 0.84939,0.54089 1.99552,0.59722 2.96915,1.13064 0.97363,0.53342 0.86315,3.17514 1.9458,3.66254 1.08266,0.48739 4.28371,-3.41507 5.43258,-2.93919 0.97246,0.40282 1.58002,4.79305 2.83509,5.07274 1.25508,0.27969 3.15767,-4.12237 4.47613,-4.00435 1.31846,0.11801 2.2976,4.10328 3.66424,4.02106 1.36663,-0.0822 2.99836,-3.53829 4.39796,-3.85929 1.3996,-0.321 2.89348,3.63553 4.31082,3.0372 1.41735,-0.59833 2.18694,-3.71144 3.60683,-4.62565 1.41988,-0.91421 3.57165,-1.6696 4.97885,-2.93824 1.40721,-1.26864 2.23305,-2.96895 3.61236,-4.63058"
         id="path15"
         clip-path="none" /><path
         style="fill:none;fill-opacity:1;stroke:#caffbd;stroke-width:1.16073;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"
         d="m 108.58596,177.67264 c 0,0 0.68098,0.737 0.88128,0.92228 0.20031,0.18528 0.38156,0.71322 0.76695,1.04523 0.3854,0.33202 1.00379,0.84316 1.55907,1.28335 0.55527,0.44019 1.10513,0.92483 1.81507,1.43465 0.70994,0.50982 1.32031,1.16022 2.1697,1.70111 0.8494,0.5409 1.99552,0.59723 2.96915,1.13065 0.97364,0.53342 0.86315,3.17514 1.94581,3.66253 1.08266,0.4874 4.28371,-3.41507 5.43257,-2.93918 0.97246,0.40282 1.58002,4.79305 2.8351,5.07274 1.25507,0.27969 3.15766,-4.12237 4.47612,-4.00436 1.31846,0.11801 2.2976,4.10328 3.66424,4.02107 1.36664,-0.0822 2.99836,-3.5383 4.39796,-3.85929 1.3996,-0.321 2.89348,3.63552 4.31082,3.03719 1.41735,-0.59833 2.18695,-3.71144 3.60683,-4.62565 1.41988,-0.91421 3.57165,-1.66959 4.97885,-2.93824 1.40721,-1.26864 2.23305,-2.96895 3.61236,-4.63058"
         id="path15-6"
         clip-path="none" /><path
         style="fill:none;fill-opacity:1;stroke:#d882aa;stroke-width:0.340748;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"
         d="m 108.85416,176.11693 c 0,0 0.67077,0.24739 0.94248,0.44287 0.22149,0.15935 0.67736,0.76422 1.06276,1.09623 0.3854,0.33202 0.46317,0.86356 1.01845,1.30375 0.55527,0.44019 1.26834,1.01664 1.97828,1.52645 0.70994,0.50982 1.44911,1.04067 2.2003,1.71132 0.9746,0.87011 2.91728,1.37619 3.87698,1.89567 0.97632,0.52848 0.68128,1.94621 1.40518,2.88731 0.53185,0.6914 2.93646,-3.00995 5.41217,-2.55157 2.04099,0.37788 1.94303,5.39713 2.8657,4.50152 1.20408,-1.16876 2.13763,-3.65316 4.09872,-3.50454 1.31994,0.10002 1.91787,1.46292 3.46023,3.70485 0.4246,0.61719 2.6017,-3.65488 4.69377,-3.50228 1.48016,0.10797 2.40455,1.8964 3.6478,2.80259 0.66252,0.48291 1.93193,-4.19086 4.11684,-4.70725 1.64346,-0.38843 4.04847,-1.87321 4.99008,-3.51731 0.97444,-1.70141 1.55505,-2.39193 2.91994,-3.66407"
         id="path15-6-0"
         clip-path="none" /></g></g></svg>






			<span class="text-xl font-bold sm:text-2xl">{siteConfig.title}</span>
		</a>
		<nav
			aria-label="Main menu"
			class="bg-global-bg absolute -inset-x-4 top-12 hidden flex-col divide-y px-2 py-4 group-[.menu-open]:z-50 group-[.menu-open]:flex sm:static sm:z-auto sm:-ms-4 sm:mt-1 sm:flex sm:flex-row sm:divide-x sm:divide-y-0 sm:bg-transparent sm:p-0"
			id="navigation-menu"
		>
			{
				menuLinks.map((link) => (
					<a
						aria-current={Astro.url.pathname === link.path ? "page" : false}
						class="text-accent px-2 py-4 font-semibold sm:px-4 sm:py-0 sm:underline-offset-2 sm:hover:underline"
						href={link.path}
					>
						{link.title}
					</a>
				))
			}
		</nav>
	</div>
	<Search />
	<ThemeToggle />
	<mobile-button>
		<button
			aria-expanded="false"
			aria-haspopup="menu"
			class="group relative ms-4 h-7 w-7 sm:invisible sm:hidden"
			id="toggle-navigation-menu"
			type="button"
		>
			<span class="sr-only">Open main menu</span>
			<svg
				aria-hidden="true"
				class="absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-0 transition-all group-aria-expanded:scale-0 group-aria-expanded:opacity-0"
				fill="none"
				focusable="false"
				id="line-svg"
				stroke="currentColor"
				stroke-width="1.5"
				viewBox="0 0 24 24"
				xmlns="http://www.w3.org/2000/svg"
			>
				<path d="M3.75 9h16.5m-16.5 6.75h16.5" stroke-linecap="round" stroke-linejoin="round"
				></path>
			</svg>
			<svg
				aria-hidden="true"
				class="text-accent absolute start-1/2 top-1/2 h-full w-full -translate-x-1/2 -translate-y-0 scale-0 opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100"
				class="text-accent"
				fill="none"
				focusable="false"
				id="cross-svg"
				stroke="currentColor"
				stroke-width="1.5"
				viewBox="0 0 24 24"
				xmlns="http://www.w3.org/2000/svg"
			>
				<path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
			</svg>
		</button>
	</mobile-button>
</header>
<div class="mb-16 border-b border-[#292f38]"></div>

<script>
	import { toggleClass } from "@/utils/domElement";

	class MobileNavBtn extends HTMLElement {
		#menuOpen: boolean = false;

		connectedCallback() {
			const headerEl = document.getElementById("main-header")!;
			const mobileButtonEl = this.querySelector<HTMLButtonElement>("button");

			mobileButtonEl?.addEventListener("click", () => {
				if (headerEl) toggleClass(headerEl, "menu-open");
				this.#menuOpen = !this.#menuOpen;
				mobileButtonEl.setAttribute("aria-expanded", this.#menuOpen.toString());
			});
		}
	}

	customElements.define("mobile-button", MobileNavBtn);
</script>
